<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>마비노기 물물교역 체크리스트</title>
    <style>
      body {
        font-family: "Arial", sans-serif;
        padding: 20px;
        background: #f8f9fa;
      }

      h1,
      h2 {
        color: #333;
        text-align : center;
      }

      .btn {
        margin : 0 auto;
        width: 1200px;
      }
      .region {
        margin: 0 auto;
        width: 1200px;
        margin-bottom: 30px;
        padding: 10px;
        border-left: 5px solid #888;
        background: #fff;
        border-radius: 6px;
      }
      label {
        display: block;
        margin: 5px 0;
      }
      input[type="checkbox"] {
        margin-right: 10px;
      }
      #filter-btn {
        margin-bottom: 20px;
        padding: 10px 15px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      #filter-btn:hover {
        background-color: #0056b3;
      }

      #reset-btn {
        margin-bottom: 20px;
        padding: 10px 15px;
        background-color: #46b12b;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }
      #filter-reset:hover {
        background-color: #4efdba;
      }

      #desc-toggle-btn {
        margin-bottom: 20px;
        padding: 10px 15px;
        background-color: #34a091;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      #description {
        display: none;
        margin-bottom: 20px;
        padding: 10px;
        background-color: #e0f0ff;
        border-left: 4px solid #007bff;
        border-radius: 5px;
        color: #333;
      }

      .item-desc {
        display: none;
        font-size: 0.9em;
        color: #555;
        margin-left: 10px;
      }
    </style>
  </head>
  <body>
    <h1>📦 마비노기 물물교역 체크리스트</h1>

    <div class="btn">
      <button id="filter-btn">🔍 미보유 아이템만 보기</button>
      <button id="reset-btn">🔄 체크 상태 초기화</button>
      <button id="desc-toggle-btn">📝 재료 보기</button>
    </div>

    <div id="description">
      이 체크리스트는 마비노기 물물교역 아이템을 정리하고, 보유 여부를 쉽게
      표시하기 위한 도구입니다.
    </div>

    <div class="region" id="region-fabric">
      <h2>방직 / 천옷</h2>
      <label
        ><input type="checkbox" data-key="fabric-1" /> 고급 옷감(32)
        <span class="item-desc" data-desc="true"
          >👕 굵은 실뭉치 5 | 의류점 알바</span
        ></label
      >
      <label
        ><input type="checkbox" data-key="fabric-2" /> 최고급 옷감(40)
        <span class="item-desc" data-desc="true">
          👕 굵은 실뭉치 6 | 의류점 알바</span
        ></label
      >
      <label
        ><input type="checkbox" data-key="fabric-3" /> 고급 실크(32)
        <span class="item-desc" data-desc="true">
          👕 가는 실뭉치 5 | 의류점 알바</span
        ></label
      >
      <label
        ><input type="checkbox" data-key="fabric-4" /> 최고급 실크(30)
        <span class="item-desc" data-desc="true">
          👕 가는 실뭉치 5 | 의류점 알바</span
        ></label
      >
      <label
        ><input type="checkbox" data-key="fabric-5" /> 질긴 끈(30)
        <span class="item-desc" data-desc="true">
          👕 굵은 실뭉치 5 | 이멘마하 알바</span
        ></label
      >
      <label
        ><input type="checkbox" data-key="fabric-6" /> 질긴 실(30)
        <span class="item-desc" data-desc="true">
          👕 가는 실뭉치 5 | 이멘마하 알바</span
        ></label
      >
      <label
        ><input type="checkbox" data-key="fabric-7" /> 매듭 끈(50)
        <span class="item-desc" data-desc="true">
          👕 가는 실뭉치 1, 굵은 실뭉치 1 | 의류점 알바</span
        ></label
      >
      <label
        ><input type="checkbox" data-key="fabric-8" /> 고급 가죽끈(40)
        <span class="item-desc" data-desc="true">
          👕 고급 가죽 1 | 
        </span></label
      >
      <label
        ><input type="checkbox" data-key="fabric-9" /> 최고급가죽 끈(40)
        <span class="item-desc" data-desc="true">
          👕 최고급 가죽 1 | 
        </span></label
      >
      <label
        ><input type="checkbox" data-key="fabric-10" /> 튼튼한 고리(3)
        <span class="item-desc" data-desc="true">
          👕 어둠이 깃든 조각1, 매듭 끈1 | 의류점 알바</span
        ></label
      >
    </div>

    <div class="region" id="region-posion">
      <h2>포션제조</h2>
      <label
        ><input type="checkbox" data-key="posion-1" /> 생500포(16)<span
          class="item-desc"
          data-desc="true"
          >🧪 생명력300포1, 물1, 네잎 클로버1 | 힐러집 알바</span
        ></label
      >

      <label
        ><input type="checkbox" data-key="posion-2" /> 마나500포(25)
        <span class="item-desc" data-desc="true"
          >🧪 마나300포1, 물1, 네잎 클로버1 | 힐러집 알바</span
        >
      </label>
      <label
        ><input type="checkbox" data-key="posion-3" /> 스태미나500포(75)
        <span class="item-desc" data-desc="true"
          >🧪 스태미나300포1, 물1, 네잎 클로버1 | 힐러집 알바</span
        ></label
      >
      <label
        ><input type="checkbox" data-key="posion-4" />마리오네트500포(30)
        <span class="item-desc" data-desc="true"
          >🧪 골드허브1, 베이스포션1, 아연광석 조각1, 니켈광석 조각1 | 이멘마하
          알바</span
        ></label
      >
      <label
        ><input type="checkbox" data-key="posion-5" />정령리큐르(8)
        <span class="item-desc" data-desc="true"
          >🧪 화이트 허브1, 고대 정령의 화석조각1, 엘레멘탈 리무버2 | </span
        ></label
      >
    </div>

    <div class="region" id="region-timber">
      <h2>목공</h2>
      <label><input type="checkbox" data-key="timber-1" /> 중급 나무장작(40)
        <span class="item-desc" data-desc="true"
        >🪵 나무장작3 | 등대, 트레이시 알바</span
      ></label>
      <label><input type="checkbox" data-key="timber-2" /> 고급 나무장작(50)
        <span class="item-desc" data-desc="true"
        >🪵 중급 나무장작3 | 등대, 트레이시 알바</span
      ></label></label>
      <label
        ><input type="checkbox" data-key="timber-3" /> 최고급 나무장작(9)
        <span class="item-desc" data-desc="true"
        >🪵 고급 나무장작3 | 등대, 트레이시 알바</span
      ></label></label
      >
      <label
        ><input type="checkbox" data-key="timber-4" /> 특급 나무장작(9)
        <span class="item-desc" data-desc="true"
        >🪵 최고급 나무장작1, 순도 높은 강화제1 | </span
      ></label></label
      >
    </div>

    <div class="region" id="region-smelt">
      <h2>제련</h2>
      <label><input type="checkbox" data-key="smelt-1" /> 동판(50)
        <span class="item-desc" data-desc="true"
        >🪨 동괴1 | 퍼거스 알바</span
      ></label>
      <label><input type="checkbox" data-key="smelt-2" /> 은판(16)
        <span class="item-desc" data-desc="true"
        >🪨 은괴1 | 퍼거스 알바</span
      ></label>
      <label><input type="checkbox" data-key="smelt-3" /> 금판(50)
        <span class="item-desc" data-desc="true"
        >🪨 금괴1 | 퍼거스 알바</span
      ></label>
      <label><input type="checkbox" data-key="smelt-4" /> 미스릴판(30)
        <span class="item-desc" data-desc="true"
        >🪨 미스릴괴1 | 퍼거스 알바</span
      ></label>
      <label><input type="checkbox" data-key="smelt-5" /> 미스릴 대못(9)
        <span class="item-desc" data-desc="true"
        >🪨 미스릴괴20 | </span
      ></label>
    </div>

    <div class="region" id="region-patcraft">
      <h2>핀즈 크래프트</h2>
      <label
        ><input type="checkbox" data-key="patcraft-1" />조화코스모스(6)
        <span class="item-desc" data-desc="true"
        >🪶 빈병1, 마법가루10, 베이스 허브10, 코스모스 추출액1 | </span
      ></label
      >
      <label
        ><input type="checkbox" data-key="patcraft-2" />펫놀이세트(3)
        <span class="item-desc" data-desc="true"
        >🪶 펫이 좋아하는 잡동사니1, 나무판1 | </span
      ></label
      >
    </div>

    <div class="region" id="region-engineering">
      <h2>힐웬 공학</h2>
      <label
        ><input type="checkbox" data-key="engineering-1" />스핀기어(8)<span class="item-desc" data-desc="true"
        >🔧 힐웬2, 육각볼트5, 육각너트5 |  </span
      ></label
      >
      <label
        ><input
          type="checkbox"
          data-key="engineering-2"
        />에너지증폭장치(6)<span class="item-desc" data-desc="true"
        >🔧 에메랄드 코어3, 에너지 컨버터3, 힐웬3, 실리엔3 |  </span
      ></label
      >
      <label
        ><input type="checkbox" data-key="engineering-3" />힐웬합금(20)<span class="item-desc" data-desc="true"
        >🔧 무른 힐웬 광석 조각 15 |  </span
      ></label
      >
      <label
        ><input type="checkbox" data-key="engineering-4" />에메랄드
        퓨즈(8)<span class="item-desc" data-desc="true"
        >🔧 에메랄드 코어1 |  </span
      ></label
      >
      <label
        ><input type="checkbox" data-key="engineering-5" />에너지
        컨버터(15)<span class="item-desc" data-desc="true"
        >🔧 힐웬1, 실리엔1 |  </span
      ></label
      >
    </div>

    <div class="region" id="region-mazic">
      <h2>매직크래프트</h2>
      <label><input type="checkbox" data-key="mazic-1" />마력이 깃든 나무장작(15)<span class="item-desc" data-desc="true"
        >🏺 중급 나무장작1, 힐웬1, 실리엔1 |  </span
      ></label>
      <label><input type="checkbox" data-key="mazic-2" />끈끈이풀(30)<span class="item-desc" data-desc="true"
        >🏺 돌연변이 식물의 점액질1, 실리엔1 | </span
      ></label>
      <label
        ><input type="checkbox" data-key="mazic-3" />정화된 토끼의 발(15)<span class="item-desc" data-desc="true"
        >🏺 돌연변이 토끼의 발1, 실리엔1 | </span
      ></label
      >
      <label><input type="checkbox" data-key="mazic-4" />실리엔(50)<span class="item-desc" data-desc="true"
        >🏺 실리엔 결정5 | </span
      ></label>
      <label
        ><input type="checkbox" data-key="mazic-5" />신비한 허브 가루(75)<span class="item-desc" data-desc="true"
        >🏺 블러디 허브1, 마나 허브1, 포이즌 허브1 | </span
      ></label
      >
      <label><input type="checkbox" data-key="mazic-6" />뮤턴트(3)<span class="item-desc" data-desc="true"
        >🏺 돌연변이 토끼의 발10, 돌연변이 식물의 점액질5, 사스콰치의 심장3 | </span
      ></label>
    </div>

    <div class="region" id="region-handcraft">
      <h2>핸디크래프트</h2>
      <label
        ><input type="checkbox" data-key="handcraft-1" />쿠션용 솜(15)<span class="item-desc" data-desc="true"
        >✋ 가는실5, 고급양털20 | </span
      ></label
      >
      <label
        ><input type="checkbox" data-key="handcraft-2" />발리스타용 독 묻은 와이번 볼트(9)
        <span class="item-desc" data-desc="true"
        >✋ 나무 장작1, 와이번의 발톱1, 포이즌 포션1 | </span
      ></label
      >
      <label><input type="checkbox" data-key="handcraft-3" />건초더미(9)<span class="item-desc" data-desc="true"
        >✋ 최고급 가죽끈1, 못 쓰게 된 밀 이파리20 | </span
      ></label>
      <label
        ><input type="checkbox" data-key="handcraft-4" />인조 잔디(8)<span class="item-desc" data-desc="true"
        >✋ 꽃뭉치5, 싱싱한 풀20 | </span
      ></label
      >
      <label
        ><input type="checkbox" data-key="handcraft-5" />최고급 바닐라
        향초(20)<span class="item-desc" data-desc="true"
        >✋ 밀랍1+미니바닐라 향초1, 고급 바닐라 향초1+정제된 촉매제1 | 한스 알바(밀랍) </span
      ></label
      >
    </div>

    <div class="region" id="region-food">
      <h2>요리</h2>
      <label
        ><input type="checkbox" data-key="food-1" />새우조련미끼(100)<span class="item-desc" data-desc="true"
        >🍳 새우1, 설탕1, 마늘1 | </span
      ></label
      >
      <label><input type="checkbox" data-key="food-2" />밀가루(50)<span class="item-desc" data-desc="true"
        >🍳 밀10 | 식료품점 알바 </span
      ></label>
      <label><input type="checkbox" data-key="food-3" />보릿가루(45)<span class="item-desc" data-desc="true"
        >🍳 보리10 | 식료품점 알바 </span
      ></label>
    </div>

    <div class="region" id="region-pen">
      <h2>필기구 크래프트</h2>
      <label><input type="checkbox" data-key="pen-1" />마법의 양피지(15)<span class="item-desc" data-desc="true"
        >🖊️ 부드러운 양피지1, 마나 허브10, 선라이트 허브10 | 아이라 알바</span
      ></label>
      <label><input type="checkbox" data-key="pen-2" />마법의 깃털펜(15)<span class="item-desc" data-desc="true"
        >🖊️ 생기 있는 깃털1, 마나 허브10, 골드 허브10 | 아이라 알바</span
      ></label>
    </div>

    <script>
      const checkboxes = document.querySelectorAll('input[type="checkbox"]');
      const filterBtn = document.getElementById("filter-btn");
      const resetBtn = document.getElementById("reset-btn");
      const descToggleBtn = document.getElementById("desc-toggle-btn");
      let descVisibleMode = true;
      let filterActive = false;

      // 저장된 체크 상태 불러오기
      checkboxes.forEach((checkbox) => {
        const key = checkbox.getAttribute("data-key");
        const saved = localStorage.getItem(key);
        if (saved === "true") checkbox.checked = true;

        // 변경 시 저장
        checkbox.addEventListener("change", () => {
          localStorage.setItem(key, checkbox.checked);
          if (filterActive) applyFilter(); // 필터 적용 중이면 즉시 반영
        });
      });

      // 필터 버튼 클릭 이벤트
      filterBtn.addEventListener("click", () => {
        filterActive = !filterActive;
        applyFilter();
        filterBtn.textContent = filterActive
          ? "👁 전체 아이템 보기"
          : "🔍 미보유 아이템만 보기";
      });

      // 필터 적용 함수
      function applyFilter() {
        checkboxes.forEach((checkbox) => {
          const label = checkbox.parentElement;
          if (filterActive) {
            label.style.display = checkbox.checked ? "none" : "block";
          } else {
            label.style.display = "block";
          }
        });
      }
      // 리셋 버튼
      resetBtn.addEventListener("click", () => {
        if (confirm("정말로 모든 체크 상태를 초기화하시겠습니까?")) {
          checkboxes.forEach((checkbox) => {
            const key = checkbox.getAttribute("data-key");
            checkbox.checked = false;
            localStorage.removeItem(key);
          });
          if (filterActive) applyFilter(); // 필터 활성화 시 즉시 반영
        }
      });

      const descs = document.querySelectorAll('[data-desc="true"]');
      descs.forEach((desc) => {
        desc.style.display = "inline"; // ✅ 기본적으로 보여줌
      });
      descToggleBtn.textContent = "❌ 재료 숨기기"; // ✅ 버튼 텍스트도 변경

      descToggleBtn.addEventListener("click", () => {
        descVisibleMode = !descVisibleMode;
        descs.forEach((desc) => {
          desc.style.display = descVisibleMode ? "inline" : "none";
        });
        descToggleBtn.textContent = descVisibleMode
          ? "❌ 재료 숨기기"
          : "📝 재료 보기";
      });
    </script>
  </body>
</html>
